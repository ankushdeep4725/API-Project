!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs/operators"),require("ng-block-ui"),require("@angular/common/http")):"function"==typeof define&&define.amd?define("ng-block-ui/http",["exports","@angular/core","rxjs/operators","ng-block-ui","@angular/common/http"],e):e((t["ng-block-ui"]=t["ng-block-ui"]||{},t["ng-block-ui"].http={}),t.ng.core,t.rxjs.operators,t["ng-block-ui"],t.ng.common.http)}(this,function(t,o,n,i,r){"use strict";var s=function(){function t(){this.settings={}}return t.decorators=[{type:o.Injectable}],t}(),u=function(){function t(t,e){this.blockUIService=t,this.blockUIHttpSettings=e,this.activeHttpRequests=0}return t.prototype.intercept=function(e,t){var o=this,r=!1;return this.shouldBlock(e)&&(r=!0,this.activeHttpRequests++,this.blockUIService.start(i.BLOCKUI_DEFAULT)),t.handle(e).pipe(n.finalize(function(){if(o.shouldBlock(e)){o.activeHttpRequests--;var t=!1;o.blockUIHttpSettings.settings.blockAllRequestsInProgress&&o.activeHttpRequests<=0?t=!(o.activeHttpRequests=0):r&&(t=!0),t&&o.blockUIService.stop(i.BLOCKUI_DEFAULT)}}))},t.prototype.shouldBlock=function(e){var o=e.method,r=e.urlWithParams;return!(this.blockUIHttpSettings.settings.requestFilters||[]).some(function(t){return t&&t.method&&t.url?t.method.toUpperCase()===o&&t.url.test(r):"function"==typeof t?t(e):t.test(r)})},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:i.BlockUIService},{type:s}]},t}(),c=new o.InjectionToken("BlockUIHttpModuleSettings");function l(t){return{settings:t}}var e=function(){function e(){}return e.forRoot=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[{provide:c,useValue:t},{provide:s,useFactory:l,deps:[c]},{provide:r.HTTP_INTERCEPTORS,useClass:u,multi:!0}]}},e.decorators=[{type:o.NgModule,args:[{imports:[i.BlockUIModule]}]}],e}();t.BlockUIHttpModule=e,t.ɵc=s,t.ɵd=u,t.ɵa=c,t.ɵb=l,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng-block-ui-http.umd.min.js.map